@import url('https://fonts.googleapis.com/css2?family=Anonymous+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap');

//Vars
// Colours from Solarized (ethanschoonover.com/solarized)
/*notes on usage:
Dark colorscheme: bg & body => base03:base0 (not base00)
highlighted bg & body => base02:base1.
>> The L*a*b lightness difference between base03:base0
   and base02:base1 is identical by design, resulting
   in identical readability against both normal and
   highlighted backgrounds.*/

//color value      //  DARK            LIGHT
//-----------------//--------------//-----------------
$base03:#002b36; // background   // nil
$base02:#073642; // bg hilight   // nil
$base01:#586e75; // 2ndy content // em content
$base00:#657b83; // nil          // body text
$base0:#839496;  // body text    // nil
$base1:#93a1a1;  // em content   // 2ndy content
$base2:#eee8d5;  // nil          // bg hilight
$base3:#fdf6e3;  // nil          // background
//highlights
$yellow:#b58900;
$orange:#cb4b16;
$red:#dc322f;
$magenta:#d33682;
$violet:#6c71c4;
$blue:#268bd2;
$cyan:#2aa198;
$green:#859900; //I may modify this one...

// Page Colours
$colour-bg:$base03;
$colour-cursor-start: $colour-bg;
$colour-cursor: $cyan;
$colour-text: $base0;
$colour-link:$blue;

/////////// @mixins /////////
@mixin margin-padding{
  margin:0;
  padding:0;
}
@mixin highlight-text {
  padding:0;
  background:$cyan;
  width:-moz-fit-content;
  width:fit-content;
  color:$base03;
  font-weight: bold;
}
@mixin error-text{
  background-color:$red;
  color:$base03;
  font-weight:bold;
  padding:.15em;
}
//responsive image
@mixin resposive-img(){
  @include margin-padding();
  flex-shrink:2;
  flex-grow:1;
  flex-basis:calc(100%/3);
  display:flex;
  flex-direction:column;
  align-items: center;
  justify-content: space-around;
  img{
    height:auto;
    min-width:150px;
    width:100%;
    max-width:275px;
  }
}
/*reset*/
html {
  @include margin-padding();
  font-size: 16px;
  font-weight: normal;
  // line-height: 1.25;
  font-family: 'Anonymous Pro','Courier New', Courier, monospace;
  box-sizing: border-box;
  min-height:100vh;
}
body{
@include margin-padding();
  font-size: 1em;
  color:#bbb;
  background:$colour-bg;
  // min-width:100vw;
}

// div,p,header,main,ul,li{border:1px solid black}
////// Typography///////////
///links///
a:link{
  text-decoration:none;
  color:$colour-link;
  border-bottom:.15em solid $colour-link;
}
a:visited{
  color:$colour-link;
  border-bottom-color:$colour-link;
}
.current-page{
  background-color:$colour-link;
  color:$colour-bg;
}
.display-url{
  @include highlight-text();
  background-color: $colour-link;
  color:$colour-bg;
  font-weight:bold;
  word-break:break-word;
  &:link,&:visited{@extend .display-url;}
}
//// Headers ////
h2,h3,h4,h5,h6{
  font-weight:700;
  font-family: 'Courier Prime';
  @include highlight-text();
  padding-left:2rem;
  line-height: 1;
}
h1{
  font-family:'Courier Prime';
  a{
    @include highlight-text();
    background:$colour-link;
    border:none;
  }
  a:visited{  color:$colour-bg; border:none;}
}
//sizing
/*line-height from: https://grtcalculator.com/, sizing rules from:http://webtypography.net*/ 
h1{font-size:3rem;padding:0;}
h2{  font-size:3rem; margin:1.4117em 0 .7058em; }
h3{
  font-size:2.5rem;
  margin:1.1764em 0 .5882em;
  width:initial;
  word-break: break-word;
}
h4{  font-size:2rem; margin:.9411 0 .4705; }
h5{  font-size:1.5rem;}
h6{  font: italic 1.5rem bold;}

//content
p,ul,li{
@include margin-padding();
}

p,li{
  font-size:1.25rem;
  line-height: 1.7;
  margin:1.7em auto;
  max-width:62.5ch;
}

ul{
  margin:1.5em auto;
  padding-left:6ch;
  li{margin:.25rem 0 0 1ch;}
}

header nav{
 
  a{
    font-size:1.5rem;
    color:$base1;
  }
}
footer{
  font-size:1rem;
  line-height:1.5882;
  align-items: center;
  justify-content: space-around;
  padding-bottom:.6486em;
  background-color:$base02;
  color:$base1;
  div{
    margin:0 0 .6486em;
    &:first-child{
      margin:.6486em 0;
    }
  }
  a{
    &:link,&:visited{
      color:$base1;
      border:none;
    }
    &.current-page{
    @include highlight-text();
    padding:.15em .25em;
    }
  }
}
#skip-to-main{
  font-size:3rem;
  font-weight:600;
  border:none;
  text-align: center;
  &:focus{
    text-decoration: underline;
    text-transform: capitalize;
  }
}

/////// Layout /////////
/*This is in order of specificity â€” with less specific first*/
.two-column-flex{
  @include margin-padding();
  display:flex;
  flex-flow: row wrap;
  justify-content: space-between;
  align-content: space-between;
  .lrg-box{
    @include margin-padding();
    flex-grow: 3;
    flex-basis:60%;
    p{
      padding-left:2ch;
    }
  }
  .sml-box{
   @include resposive-img();
  }
  h4{  @include margin-padding(); }
  #tldr{  border:.25em solid $cyan; }
  #resume{  background: $cyan; padding-bottom:1em; }
}

.full-width-content{
  width:90vw;
  margin:0 auto;
}

.header-img{
  display:none;
}

footer{
  display:flex;
  flex-direction: column;
}
/// Blogs!
.guest{
  .author::after{
    @include highlight-text();
    content:"Guest!";
    margin-left:1ch;
  }
  h3::before{
    content:"Guest Post: "
  }
}
.blog-post{
  display: flex;
  flex-direction: column;
  .author{
    margin:.75em 0;
    &::before{
      content:"Author: ";
      font-weight:bold;
    }
  }
  .post-date{
    margin:.75em 0;
    &::before{
      content:"Date Posted: ";
      font-weight:bold;
    }
  }
  .content-img{
    @include resposive-img();
}
}

//Form
form{
  max-width:90vw;
  text-transform: capitalize;
  @extend p;
  // margin-top:1.7em;
  display:flex;
  flex-direction: column;

  input{
    height:1.7em;
    padding:0 .5ch;
    font:400 1.25rem/1.7 'Anonymous Pro','Courier New', Courier, Monospace;
    background:$base02;
    color:$base1;
    border:.15em solid $colour-bg;
    &:focus{
      border:.15em solid $cyan;
      outline: $cyan solid .25em;
    }
    &:required+::before{
      content:">Required";
      @include highlight-text();
      padding:0.25ch .5ch;
      margin-right:1ch;  
    }
    &#submit-contact{
      background:$cyan;
      color:$colour-bg;
      font-weight:bold;
      margin-top:1.7em;
      // padding:.5ch 0;
      height:auto;
    }
    &.error-input{
      //modified from https://usefulangle.com/post/244/html-form-prevent-validation-on-page-load
      @extend input;
      &:invalid{
        @include error-text();
        border-color:$red !important;
        padding:0 .5ch;
        &::placeholder{
          color:$base03;
        }
        &+::after{
          @include error-text();
          content:">Error";
        }
      }
    }
  }
  label{
    display:flex;
    flex-direction: column;
    margin-top:.85em;
    
    textarea{
      @extend input;
      height:8.5em;
    }
  }

}

/////Mobile-first Menu
/*Change this. It's not working*/
header nav{
  @include margin-padding();
  display:flex;
  flex-flow:column;
  width:12em;
  height:2.65em;
  overflow: hidden;
  transition:height 1s ease-in-out;
  a{
    @include margin-padding();
    padding:.25em;
   &:link,
   &:visited{
    border:.15em solid $colour-link;
    border-bottom:none;
    }
    &:link:last-child,
    &:visited:last-child{
      border-bottom:.15em solid $colour-link;
    }
  }
  .more-link{
    background:$colour-link;
    color:$colour-bg;
    font-weight:bold;
    &:link{     @extend .more-link; }
    &:visited{  @extend .more-link; }
    &:after{
      content:"\25bc";
      font-weight:bold;
      position:absolute;
      left:6.5em;
    }
  }
  .less-link{
    display:none;
    font-weight:bold;
    background:$colour-link;
    color:$colour-bg;
  }
  .current-page{display:none;}
}
#navigation:target{
  scroll-margin-top:5em;
  scroll-snap-align:start;
 nav{
  height:12.6em;
    .more-link{  display:none; }
    .less-link{
      display: initial;
      &:after{
        content:"\25b2";
        font-weight:bold;
        position:absolute;
        left:6.5em;
      }
}
}
}
// Hide skip to main link
#skip-to-main{
  position: absolute;
  top:-15rem;
  left:0;
  display: block;
  width:5ch;
  padding:.5em 1ch 0;
  background:$yellow;
  color:$colour-bg;
  z-index:999;
  &:focus{
    top:0;
    left:1ch;
  }
  // from https://css-tricks.com/the-shapes-of-css/#triangle-down-shape:
  &::after{
    content: "";
    position:absolute;
    left:0;
    top:3.52em;
    border-left: 3.5ch solid transparent;
    border-right: 3.5ch solid transparent;
    border-top:.75em solid $yellow;
    z-index: 1000;
  }
}

//index.html specific
.intro-box {
  padding:0;
  margin:0;
  display:grid;
  grid-template-columns:repeat(10, 1ch);
  grid-template-rows:repeat(5,1em);
  line-height: 1;
  font-size:4rem;
}

.intro-text{
  grid-column-start: 1;
  grid-column-end: 11;
  grid-row-start: 1;
  grid-row-end:6;
  padding:0;
  margin:0;
}
